<div class="space-y-6">
  <div>
    <h2 class="text-xl font-semibold text-slate-900">Forgot password</h2>
    <p class="mt-1 text-sm text-slate-500">
      Enter the email address associated with your account and we will send a reset link.
    </p>
  </div>

  @if (!submitted) {
    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-5">
      <div>
        <label class="block text-xs font-semibold text-slate-600 mb-1">Email</label>
        <div
          class="relative flex items-center rounded-2xl border px-3 py-2.5 bg-white focus-within:border-[#135bec] focus-within:ring-2 focus-within:ring-[#135bec]/10"
          [class.border-red-400]="email.invalid && email.touched"
        >
          <span class="material-symbols-outlined text-slate-400 text-[20px] mr-2">alternate_email</span>
          <input
            formControlName="email"
            type="email"
            placeholder="you@example.com"
            class="w-full bg-transparent border-none outline-none text-sm text-slate-900 placeholder:text-slate-400"
          />
        </div>
        @if (email.invalid && email.touched) {
          <p class="mt-1 text-xs text-red-500">
            Please enter a valid email address.
          </p>
        }
      </div>

      <button
        type="submit"
        class="w-full inline-flex items-center justify-center rounded-2xl bg-[#135bec] text-white text-sm font-semibold py-3 shadow-lg shadow-blue-200 hover:shadow-xl transition-shadow disabled:opacity-50"
        [disabled]="form.invalid || submitting"
      >
        <span class="material-symbols-outlined text-[18px] mr-2">send</span>
        {{ submitting ? 'Sending link...' : 'Send reset link' }}
      </button>
    </form>
  } @else {
    <div class="rounded-2xl border border-emerald-100 bg-emerald-50 px-4 py-3 text-sm text-emerald-800">
      <div class="flex items-start gap-2">
        <span class="material-symbols-outlined text-[20px] mt-0.5">check_circle</span>
        <p>
          If an account exists with that email, a reset link has been sent.
          You can now close this window or check your inbox.
        </p>
      </div>
    </div>
  }

  <div class="flex items-center justify-between text-xs text-slate-500">
    <a routerLink="/auth/login" class="hover:text-[#135bec] font-medium">Back to login</a>
    <a routerLink="/auth/register" class="hover:text-[#135bec] font-medium">Create an account</a>
  </div>
</div>

