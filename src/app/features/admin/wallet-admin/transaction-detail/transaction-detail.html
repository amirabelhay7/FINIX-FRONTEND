<div class="tx-detail-page">
  <p *ngIf="error" class="error-banner">{{ error }}</p>

  <div *ngIf="loading" class="loading-wrap">
    <span class="material-symbols-outlined spin">progress_activity</span>
    <span>Loading transactionâ€¦</span>
  </div>

  <ng-container *ngIf="!loading && !error && vm.fields.length">
    <header class="detail-header">
      <a [routerLink]="vm.backRoute" class="back-link" aria-label="Back">
        <span class="material-symbols-outlined">arrow_back</span>
      </a>
      <div>
        <h1 class="detail-title">{{ vm.pageTitle }}</h1>
        <p class="detail-subtitle">{{ vm.pageSubtitle }}</p>
      </div>
    </header>

    <div class="detail-card">
      <div class="detail-fields">
        <div *ngFor="let field of vm.fields"
             class="detail-field"
               [class.full-width]="field.label === 'Description'"
             [class.amount-highlight]="field.label === 'Amount'">
          <dt>{{ field.label }}</dt>
          <dd [ngClass]="field.valueClass">
            <span *ngIf="field.isBadge" class="badge" [ngClass]="field.valueClass">{{ field.value }}</span>
            <span *ngIf="!field.isBadge">{{ field.value }}</span>
          </dd>
        </div>
      </div>
    </div>
  </ng-container>

  <div *ngIf="!loading && !error && !vm.fields.length" class="loading-wrap">
    <span>No transaction data.</span>
  </div>
</div>
