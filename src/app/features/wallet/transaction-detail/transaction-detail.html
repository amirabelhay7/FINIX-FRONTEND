<div class="txd-page">
  <header class="txd-header">
    <a [routerLink]="backRoute" class="txd-back">
      <span class="material-symbols-outlined">arrow_back</span>
      {{ backLabel }}
    </a>
    <h1 class="txd-title">Transaction details</h1>
    <p class="txd-ref">{{ data.refLabel }}</p>
  </header>

  <div *ngIf="loading" class="txd-loading">
    <span class="material-symbols-outlined txd-spin">progress_activity</span>
    <p>Loading transactionâ€¦</p>
  </div>

  <div *ngIf="!loading && error" class="txd-error">
    <span class="material-symbols-outlined">error</span>
    <p>{{ error }}</p>
    <a [routerLink]="backRoute" class="txd-btn-secondary">Back to transactions</a>
  </div>

  <ng-container *ngIf="!loading && !error">
    <div class="txd-hero">
      <div class="txd-hero-icon-wrap">
        <span class="material-symbols-outlined txd-hero-icon">{{ amountPositive ? 'south_east' : 'north_west' }}</span>
      </div>
      <p class="txd-hero-label">{{ amountPositive ? 'Amount received' : 'Amount sent' }}</p>
      <p class="txd-hero-amount" [class.credit]="amountPositive" [class.debit]="!amountPositive">{{ data.amount }}</p>
      <p class="txd-hero-type">{{ data.type }}</p>
    </div>

    <section class="txd-details">
      <h2 class="txd-details-title">Details</h2>
      <dl class="txd-details-list">
        <div class="txd-detail-row">
          <dt>Type</dt>
          <dd>{{ data.type }}</dd>
        </div>
        <div class="txd-detail-row">
          <dt>Amount</dt>
          <dd class="txd-detail-amount" [class.credit]="amountPositive" [class.debit]="!amountPositive">{{ data.amount }}</dd>
        </div>
        <div class="txd-detail-row">
          <dt>Date & time</dt>
          <dd>{{ data.date }}</dd>
        </div>
        <div class="txd-detail-row">
          <dt>Status</dt>
          <dd><span class="txd-status-pill" [ngClass]="data.statusClass">{{ data.status }}</span></dd>
        </div>
        <div class="txd-detail-row txd-detail-row-ref">
          <dt>Reference</dt>
          <dd class="txd-ref-value">{{ data.reference }}</dd>
        </div>
      </dl>
    </section>

    <div class="txd-actions">
      <a [routerLink]="backRoute" class="txd-btn-primary">
        <span class="material-symbols-outlined">list</span>
        {{ backLabel }}
      </a>
    </div>
  </ng-container>
</div>
