<div class="space-y-8 animate-in fade-in duration-700 pb-10">

    <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
        <div>
            <h1 class="text-3xl font-extrabold text-gray-900 tracking-tight">{{ pageTitle }}</h1>
            <p class="text-gray-500 text-sm font-medium">{{ pageSubtitle }}</p>
        </div>
        <div class="flex items-center space-x-3">
            <span class="px-3 py-1.5 bg-green-50 text-green-700 text-xs font-bold rounded-lg border border-green-100 flex items-center">
                <span class="w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"></span>{{ kycStatusLabel }}
            </span>
            <button type="button" class="px-4 py-2 bg-[#135bec] text-white rounded-lg text-sm font-bold hover:bg-blue-700 transition-all shadow-md hover:shadow-lg flex items-center" (click)="onSaveChanges()">
                <span class="material-symbols-outlined mr-2 text-[18px]">save</span>Save Changes
            </button>
        </div>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        <div class="lg:col-span-1 space-y-6">
            <div class="bg-white rounded-2xl border border-gray-100 shadow-sm p-8 flex flex-col items-center text-center">
                <div class="relative mb-4">
                    <img [src]="user.avatarUrl" class="w-24 h-24 rounded-full border-4 border-white shadow-lg" alt="Profile" />
                    <button type="button" class="absolute bottom-0 right-0 w-8 h-8 bg-[#135bec] rounded-full flex items-center justify-center border-2 border-white shadow-md hover:bg-blue-700 transition-colors">
                        <span class="material-symbols-outlined text-white text-[16px]">photo_camera</span>
                    </button>
                </div>
                <h3 class="text-lg font-black text-gray-900">{{ user.fullName }}</h3>
                <p class="text-xs text-gray-400 font-medium mt-1">{{ user.email }}</p>
                <div class="mt-4 w-full space-y-2">
                    <div class="flex items-center justify-between py-2 border-b border-gray-50">
                        <span class="text-xs text-gray-400 font-medium">Role</span>
                        <span class="text-xs font-black px-2 py-0.5 rounded" [ngClass]="user.roleClass">{{ user.role }}</span>
                    </div>
                    <div class="flex items-center justify-between py-2 border-b border-gray-50">
                        <span class="text-xs text-gray-400 font-medium">Tier</span>
                        <span class="text-xs font-black px-2 py-0.5 rounded" [ngClass]="user.tierClass">{{ user.tier }}</span>
                    </div>
                    <div class="flex items-center justify-between py-2">
                        <span class="text-xs text-gray-400 font-medium">Score</span>
                        <span class="text-xs font-black text-gray-800">{{ user.score }}</span>
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-2xl border border-gray-100 shadow-sm overflow-hidden">
                <a routerLink="/profile/kyc" class="flex items-center px-6 py-4 hover:bg-gray-50 transition-colors border-b border-gray-50 group">
                    <div class="w-9 h-9 bg-blue-50 rounded-lg flex items-center justify-center mr-4 group-hover:bg-blue-100 transition-colors">
                        <span class="material-symbols-outlined text-[#135bec] text-[18px]">verified_user</span>
                    </div>
                    <div class="flex-1">
                        <p class="text-sm font-bold text-gray-800">KYC Status</p>
                        <p class="text-[10px] text-green-600 font-bold uppercase tracking-widest">{{ kycStatusNote }}</p>
                    </div>
                    <span class="material-symbols-outlined text-gray-300 text-[20px]">chevron_right</span>
                </a>
                <a routerLink="/profile/security" class="flex items-center px-6 py-4 hover:bg-gray-50 transition-colors group">
                    <div class="w-9 h-9 bg-purple-50 rounded-lg flex items-center justify-center mr-4 group-hover:bg-purple-100 transition-colors">
                        <span class="material-symbols-outlined text-purple-600 text-[18px]">history</span>
                    </div>
                    <div class="flex-1">
                        <p class="text-sm font-bold text-gray-800">{{ loginHistoryLabel }}</p>
                        <p class="text-[10px] text-gray-400 font-medium">{{ loginHistoryNote }}</p>
                    </div>
                    <span class="material-symbols-outlined text-gray-300 text-[20px]">chevron_right</span>
                </a>
            </div>
        </div>

        <div class="lg:col-span-2 space-y-6">
            <div class="bg-white rounded-2xl border border-gray-100 shadow-sm p-8">
                <h4 class="font-bold text-gray-800 text-base mb-6 flex items-center">
                    <span class="material-symbols-outlined mr-3 text-[#135bec] text-[20px]">person</span>
                    {{ personalSectionTitle }}
                </h4>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                    <div class="space-y-2">
                        <label class="block text-xs font-bold text-gray-500 uppercase tracking-widest">First Name</label>
                        <input type="text" [value]="personal.firstName" class="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-sm font-medium text-gray-800 focus:outline-none focus:ring-2 focus:ring-[#135bec]/20 focus:border-[#135bec] transition-all" />
                    </div>
                    <div class="space-y-2">
                        <label class="block text-xs font-bold text-gray-500 uppercase tracking-widest">Last Name</label>
                        <input type="text" [value]="personal.lastName" class="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-sm font-medium text-gray-800 focus:outline-none focus:ring-2 focus:ring-[#135bec]/20 focus:border-[#135bec] transition-all" />
                    </div>
                    <div class="space-y-2">
                        <label class="block text-xs font-bold text-gray-500 uppercase tracking-widest">Email Address</label>
                        <input type="email" [value]="personal.email" class="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-sm font-medium text-gray-800 focus:outline-none focus:ring-2 focus:ring-[#135bec]/20 focus:border-[#135bec] transition-all" />
                    </div>
                    <div class="space-y-2">
                        <label class="block text-xs font-bold text-gray-500 uppercase tracking-widest">Phone Number</label>
                        <input type="tel" [value]="personal.phone" class="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-sm font-medium text-gray-800 focus:outline-none focus:ring-2 focus:ring-[#135bec]/20 focus:border-[#135bec] transition-all" />
                    </div>
                    <div class="space-y-2">
                        <label class="block text-xs font-bold text-gray-500 uppercase tracking-widest">Date of Birth</label>
                        <input type="date" [value]="personal.dateOfBirth" class="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-sm font-medium text-gray-800 focus:outline-none focus:ring-2 focus:ring-[#135bec]/20 focus:border-[#135bec] transition-all" />
                    </div>
                    <div class="space-y-2">
                        <label class="block text-xs font-bold text-gray-500 uppercase tracking-widest">National ID (CIN)</label>
                        <input type="text" [value]="personal.cin" disabled class="w-full px-4 py-3 bg-gray-100 border border-gray-200 rounded-xl text-sm font-medium text-gray-500 cursor-not-allowed" />
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-2xl border border-gray-100 shadow-sm p-8">
                <h4 class="font-bold text-gray-800 text-base mb-6 flex items-center">
                    <span class="material-symbols-outlined mr-3 text-[#135bec] text-[20px]">location_on</span>
                    {{ addressSectionTitle }}
                </h4>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                    <div class="space-y-2 md:col-span-2">
                        <label class="block text-xs font-bold text-gray-500 uppercase tracking-widest">Street Address</label>
                        <input type="text" [value]="address.street" class="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-sm font-medium text-gray-800 focus:outline-none focus:ring-2 focus:ring-[#135bec]/20 focus:border-[#135bec] transition-all" />
                    </div>
                    <div class="space-y-2">
                        <label class="block text-xs font-bold text-gray-500 uppercase tracking-widest">City</label>
                        <input type="text" [value]="address.city" class="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-sm font-medium text-gray-800 focus:outline-none focus:ring-2 focus:ring-[#135bec]/20 focus:border-[#135bec] transition-all" />
                    </div>
                    <div class="space-y-2">
                        <label class="block text-xs font-bold text-gray-500 uppercase tracking-widest">Localisation / Quartier</label>
                        <input type="text" [value]="address.localisation" class="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-sm font-medium text-gray-800 focus:outline-none focus:ring-2 focus:ring-[#135bec]/20 focus:border-[#135bec] transition-all" />
                    </div>
                </div>
            </div>

            <div class="bg-white rounded-2xl border border-gray-100 shadow-sm p-8">
                <h4 class="font-bold text-gray-800 text-base mb-6 flex items-center">
                    <span class="material-symbols-outlined mr-3 text-[#135bec] text-[20px]">lock</span>
                    {{ passwordSectionTitle }}
                </h4>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-5">
                    <div class="space-y-2">
                        <label class="block text-xs font-bold text-gray-500 uppercase tracking-widest">Current Password</label>
                        <input type="password" placeholder="••••••••" class="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-sm font-medium text-gray-800 focus:outline-none focus:ring-2 focus:ring-[#135bec]/20 focus:border-[#135bec] transition-all" />
                    </div>
                    <div class="space-y-2">
                        <label class="block text-xs font-bold text-gray-500 uppercase tracking-widest">New Password</label>
                        <input type="password" placeholder="••••••••" class="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-sm font-medium text-gray-800 focus:outline-none focus:ring-2 focus:ring-[#135bec]/20 focus:border-[#135bec] transition-all" />
                    </div>
                    <div class="space-y-2">
                        <label class="block text-xs font-bold text-gray-500 uppercase tracking-widest">Confirm Password</label>
                        <input type="password" placeholder="••••••••" class="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl text-sm font-medium text-gray-800 focus:outline-none focus:ring-2 focus:ring-[#135bec]/20 focus:border-[#135bec] transition-all" />
                    </div>
                </div>
                <button type="button" class="mt-5 px-6 py-2.5 bg-gray-900 text-white text-sm font-bold rounded-xl hover:bg-gray-800 transition-all" (click)="onUpdatePassword()">
                    {{ updatePasswordLabel }}
                </button>
            </div>
        </div>
    </div>

</div>
